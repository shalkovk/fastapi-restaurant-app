# ğŸ½ FastAPI Restaurant App

ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ±Ğ»ÑĞ´Ğ°Ğ¼Ğ¸ Ğ¸ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ğ¼Ğ¸ Ğ² Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğµ. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ, Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ, ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ»ÑĞ´ Ğ¸ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ², Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ².

---

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

##### 1. ğŸ‘¨â€ğŸ’» ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚

```bash
git clone https://github.com/shalkovk/fastapi-restaurant-app.git
```

---

##### 2. ğŸ“ ĞŸĞµÑ€ĞµĞ¹Ñ‚Ğ¸ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ docker Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼Ğ¸

```bash
cd fastapi-restaurant-app/deploy
```

---

##### 3. âš™ï¸ ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

Ğ’ ĞºĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» `.env` Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ:

```cmd
POSTGRES_DB=restaurant_app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=postgres-restaurant-db
POSTGRES_PORT=5432
```

---

##### 4. ğŸ³ Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‡ĞµÑ€ĞµĞ· Docker Compose

Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°Ñ… docker. Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ `fastapi-restaurant-app/deploy`. Ğ’ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ IDE:

```cmd
docker-compose up --build -d
```

---

##### 5. ğŸ›  Alembic â€” Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

ĞŸĞ¾ÑĞ»Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ docker Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ², Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¿Ğ¾ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸:

- `docker exec -it fastapi-restaurant-app bash`
- `alembic init alembic`
- `alembic revision --autogenerate -m 'init migrations'`
- `alembic upgrade head`

---

##### 6. ğŸŒ ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ

Ğ’ Ğ°Ğ´Ñ€ĞµÑĞ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞµ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ÑŒÑÑ Ğ¿Ğ¾ url:
`http://127.0.0.1:8000/docs`

---

### ğŸ“š Endpoints API

#### ğŸ² Ğ‘Ğ»ÑĞ´Ğ°

- GET `/api/v1/dishes/` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ğ±Ğ»ÑĞ´

- POST `/api/v1/dishes/` â€” Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ±Ğ»ÑĞ´Ğ¾

- DELETE `/api/v1/dishes/{id}` â€” ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ±Ğ»ÑĞ´Ğ¾

#### ğŸ§¾ Ğ—Ğ°ĞºĞ°Ğ·Ñ‹

- GET `/api/v1/orders/` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²

- POST `/api/v1/orders/` â€” ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·

- PATCH `/api/v1/orders/{id}/status` â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ·Ğ°ĞºĞ°Ğ·Ğ°

- DELETE `/api/v1/orders/{id}` â€” ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·

---

### ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

ĞĞ¸Ğ¶Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```

â”œâ”€â”€â”€alembic
â”‚   â””â”€â”€â”€versions
â”œâ”€â”€â”€deploy
â”‚   â”œâ”€â”€â”€docker-compose.yml
â”‚   â””â”€â”€â”€Dockerfile
â”œâ”€â”€â”€src
â”‚   â”œâ”€â”€â”€api
â”‚   â”‚   â””â”€â”€â”€v1
â”‚   â”‚       â”œâ”€â”€â”€routers
â”‚   â”‚       â”‚   â”œâ”€â”€â”€dish.py
â”‚   â”‚       â”‚   â””â”€â”€â”€order.py
â”‚   â”‚       â””â”€â”€â”€services
â”‚   â”‚           â”œâ”€â”€â”€dish.py
â”‚   â”‚           â””â”€â”€â”€order.py
â”‚   â”œâ”€â”€â”€database
â”‚   â”‚   â””â”€â”€â”€db.py
â”‚   â”œâ”€â”€â”€models
â”‚   â”‚   â”œâ”€â”€â”€dish.py
â”‚   â”‚   â”œâ”€â”€â”€order.py
â”‚   â”‚   â”œâ”€â”€â”€base.py
â”‚   â”‚   â””â”€â”€â”€relationships.py
â”‚   â”œâ”€â”€â”€schemas
â”‚   â”‚   â”œâ”€â”€â”€dish.py
â”‚   â”‚   â””â”€â”€â”€order.py
â”‚   â””â”€â”€â”€utils
â”‚       â”œâ”€â”€â”€constants.py
â”‚       â””â”€â”€â”€service.py
â”‚
â””â”€â”€â”€tests
    â”œâ”€â”€â”€fixtures
    â”‚   â”œâ”€â”€â”€db_mocks.py
    â”‚   â””â”€â”€â”€testing_cases.py
    â”œâ”€â”€â”€integration
    â”‚   â”œâ”€â”€â”€conftest.py
    â”‚   â”œâ”€â”€â”€test_dish_router.py
    â”‚   â””â”€â”€â”€test_order_router.py
    â”œâ”€â”€â”€unit
    â”‚   â”œâ”€â”€â”€api
    â”‚   â”‚   â””â”€â”€â”€v1
    â”‚   â”‚       â””â”€â”€â”€routers
    â”‚   â”‚           â””â”€â”€â”€test_dish_router.py
    â”‚   â””â”€â”€â”€test_order_router.py
    â””â”€â”€â”€utils
        â””â”€â”€â”€test_service.py

```

---

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

#### Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº

Ğ”Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ:

- Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ² Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ñ Ñ‚ĞµÑÑ‚Ğ°Ğ¼Ğ¸ `cd tests`
- Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ `pytest`, Ğ¿Ñ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ğ² Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºÑƒ `pytest`. Ğ”Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ â€” Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ `pip install pytest`.
